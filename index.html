<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Gaudiya Songs – Offline Search</title>
  <link rel="manifest" href="/manifest.webmanifest">
  <meta name="theme-color" content="#0f172a" />
  <link rel="icon" href="/favicon.svg" type="image/svg+xml" />
  <link rel="stylesheet" href="/styles.css" />
</head>
<body class="has-bottom-nav">
  <header class="app-header" id="mainHeader">
    <div class="brand">
      <img src="/favicon.svg" alt="Lotus" class="logo" />
      <h1>Gaudiya Songs</h1>
    </div>
    <input id="search" type="search" placeholder="Search songs… (diacritics optional)" aria-label="Search songs" autocomplete="off" />
  </header>

  <main id="results" class="results" aria-live="polite"></main>

  <template id="result-item">
    <article class="result">
      <h2 class="title"></h2>
      <div class="meta"></div>
      <p class="snippet"></p>
    </article>
  </template>

  <section id="songView" class="song-view hidden" aria-labelledby="songTitle">
    <header class="song-header">
      <button id="backToResults" class="icon-btn" aria-label="Back">←</button>
      <h2 id="songTitle"></h2>
      <button id="toggleInternalSearch" class="icon-btn hidden" aria-label="Search in song">🔍</button>
    </header>

    <div id="internalSearchContainer" class="hidden">
      <input id="internalSearch" type="search" placeholder="Search in this song… (diacritics optional)" aria-label="Search in song" />
    </div>

    <div class="song-meta" id="songMeta"></div>
    <div id="songContent" class="song-content" role="document"></div>
  </section>

  <section id="settingsView" class="hidden settings-view" aria-labelledby="settingsTitle">
    <header class="settings-header">
      <button id="backFromSettings" class="icon-btn" aria-label="Back">←</button>
      <h2 id="settingsTitle">Settings</h2>
    </header>

    <div class="settings-group">
      <h3>Song Display</h3>
      <label class="switch-row">
        <input type="checkbox" id="showTranslationsToggle" checked>
        <span>Show translations</span>
      </label>
      <fieldset class="radio-group" id="translationLayoutGroup">
        <legend>Translation layout</legend>
        <label><input type="radio" name="translationLayout" value="grouped" checked> Verses first, then all translations</label>
        <label><input type="radio" name="translationLayout" value="inline"> Translation after each verse</label>
      </fieldset>
    </div>

    <div class="settings-group">
      <h3>Features</h3>
      <label class="switch-row">
        <input type="checkbox" id="internalSearchToggle" checked>
        <span>Enable internal song search</span>
      </label>
    </div>
  </section>

  <nav class="bottom-nav" aria-label="Primary">
    <button id="navHome" aria-label="Home">🏠</button>
    <button id="navGlobalSearch" aria-label="Search">🔍</button>
    <button id="navSettings" aria-label="Settings">⚙️</button>
  </nav>

  <script src="/app.js" defer></script>
</body>
</html>