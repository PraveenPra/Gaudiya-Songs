<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Gaudiya Songs – Offline Search</title>
  <link rel="manifest" href="/manifest.webmanifest">
  <meta name="theme-color" content="#0f172a" />
  <link rel="icon" href="/favicon.svg" type="image/svg+xml" />
  <link rel="stylesheet" href="/styles.css" />
</head>
<body>
  <header class="app-header" id="mainHeader">
    <div class="brand">
      <img src="/favicon.svg" alt="Lotus" class="logo" />
      <h1>Gaudiya Songs</h1>
    </div>
    <input id="search" type="search" placeholder="Search songs… (diacritics optional)" aria-label="Search songs" autocomplete="off" />
  </header>

  <main id="results" class="results" aria-live="polite"></main>

  <template id="result-item">
    <article class="result">
      <h2 class="title"></h2>
      <div class="meta"></div>
      <p class="snippet"></p>
    </article>
  </template>

  <section id="songView" class="song-view hidden">
    <header class="song-header">
      <button id="backToResults" class="icon-btn" aria-label="Back">←</button>
      <h2 id="songTitle"></h2>
      <button id="toggleInternalSearch" class="icon-btn hidden" aria-label="Search in song">🔍</button>
    </header>
    <div id="internalSearchContainer" class="hidden">
      <input id="internalSearch" type="search" placeholder="Search in this song…" />
    </div>
    <div class="song-meta" id="songMeta"></div>
    <pre id="songLyrics" class="lyrics"></pre>
  </section>

  <section id="settingsView" class="hidden settings-view">
    <header class="settings-header">
      <button id="backFromSettings" class="icon-btn" aria-label="Back">←</button>
      <h2>Settings</h2>
    </header>
    <div class="settings-item">
      <label>
        <input type="checkbox" id="internalSearchToggle"> Enable internal song search
      </label>
    </div>
  </section>

  <nav class="bottom-nav">
    <button id="navHome">🏠</button>
    <button id="navGlobalSearch">🔍</button>
    <button id="navSettings">⚙️</button>
  </nav>

  <script src="/db.js" defer></script>
  <script src="/app.js" defer></script>
</body>
</html>